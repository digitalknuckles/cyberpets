// game.js
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let pet = {
  x: 100,
  y: 100,
  sprite: null, // Placeholder for static image
  animationFrames: [], // Placeholder for animation
  currentFrame: 0,
  health: 100,
  happiness: 100
};

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}

function loadSprites() {
  // Load a static image
  pet.sprite = new Image();
  pet.sprite.src = "assets/pet-idle.png";

  // Example of loading frames (placeholder)
  for (let i = 1; i <= 3; i++) {
    let frame = new Image();
    frame.src = `assets/pet-animation-${i}.png`;
    pet.animationFrames.push(frame);
  }
}

function drawPet() {
  const img = pet.sprite; // Replace with animation logic later
  if (img && img.complete) {
    ctx.drawImage(img, pet.x, pet.y, 150, 150);
  }
}

function gameLoop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Placeholder: animate background or pet
  drawPet();

  requestAnimationFrame(gameLoop);
}

// UI actions
function handleEat() {
  pet.health = Math.min(100, pet.health + 10);
}

function handleSleep() {
  pet.health = Math.min(100, pet.health + 5);
}

function handleWash() {
  pet.health = Math.min(100, pet.health + 3);
}

function handlePlay() {
  pet.happiness = Math.min(100, pet.happiness + 10);
}

// Attach UI logic
document.getElementById("btnEat").addEventListener("click", handleEat);
document.getElementById("btnSleep").addEventListener("click", handleSleep);
document.getElementById("btnWash").addEventListener("click", handleWash);
document.getElementById("btnPlay").addEventListener("click", handlePlay);

window.addEventListener("resize", resizeCanvas);

// Start game
resizeCanvas();
loadSprites();
gameLoop();
